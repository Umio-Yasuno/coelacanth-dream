---
title: "【チラシの裏】シーラカンスが見た夢"
date: 2020-08-20T22:05:23+09:00
draft: false
# tags: [ "", ]
keywords: [ "", ]
categories: [ "Diary", ]
noindex: true
# summary: "チラシの裏"
---

チラシの裏、チラシの裏、チラシの裏。  

ここが自分にとってチラシの裏であり、浮浪者が掲げる看板であり、自分が見てる夢の記録であることを忘れかけていた。  

{{< pindex >}}

 * [about:config の無い Firefox](#firefox-without-about_config)
 * [サイトデザインの変更点](#css)

{{< /pindex >}}

## about:config の無い Firefox {#firefox-without-about_config}
先日、Android版 Firefox が以前より *Firefox Preview* としてリリースされていた Geckoview エンジン仕様のものと合流した。  
UI周りもガラリと変わり、アドオンもまだ一部のものしか対応していない。uMatrix はまだだが、uBlock は対応している。  

普段使っているブラウザの移行には消極的になりやすいが、今回は合流であり、アップデートしてから気付いた。望んだ移行ではなかった。  
*Firefox Preview* を前に試しはしたが、それまでの Firefox に慣れていると使い辛い部分やまだ実装されていない機能が多く、移行することは諦めていた。  
そのため、最初はアップデートしてしまったことを後悔したが、それでもメインリリースにあたってそれらが改善されている可能性にかけて取り敢えず使ってみることにした。慣れの問題であるとも考えた。  

だが悲しいことに、何よりも悲しいことに `about:config` が有効化されていなかった。`about:config` では通常の設定以上に深い部分を細かく設定することができ、少しでも快適に使いたいユーザーにとっては必須だった。  
`about:config` が無効にされていて一番困ったのは、ダイナミックツールバーやアニメーション等UI周りの機能が切れないことだ。  
ダイナミックツールバーは下にスクロールするとツールバーが隠れて表示範囲がその分広くなる機能だが、これが厄介で、スクロール操作にズレが生じる。隠れるタイミングでスクロールに引っ掛かりを感じることとなる。  
また、表示範囲が広くなってもビューポートに影響は無いらしく、このサイトみたいに背景がビューポートに合わせていると、ツールバーが隠れた時、そこに真っ白な背景が現れてしまう。  
隠れている状態で、リンク先を今のタブで開くと、アドレスが更新するためにツールバーが現れその分が勝手にスクロールし、見ている画面がズレる。  

こうしたズレは操作する度にストレスを与え、没入感や集中力を少しずつ削り取っていく。  
下にスクロールしたなら自分の操作外で勢いを変えて欲しくないし、ページ変移にあたって動きは少なくあって欲しい。  
操作に対し素直でいて欲しい。  

`about:config` が有効であれば、`browser.chrome.dynamictoolbar` に `false` の値を設定することで無効化することができたのだが、その `about:config` が無効化されてはどうしようもない。  
それ以外にも、UI周りのアニメーションや性能に関係する設定をいじれないことは、低スペスマホ使いにとって厳しいものがある。  
一瞬、Google Chrome に移ることを考えたが、アドオンが無いことを思い出し諦めた。  

結果として、自分が取ったのは一度 Firefox をアンインストールし、<https://archive.mozilla.org/pub/mobile/releases/> からダウンロードした前バージョンの apk から再インストールすることだった。  
プロファイルの出力機能が無いため、ブックマーク等は消えてしまうが、`about:config` の無い Firefox を使い続けるよりはマシだった。  
ベータ版であれば有効にされているらしいが、普段使うブラウザとして安定性に欠け、頻繁に最新バージョンがリリースされるのは避けたい。  

`about:config` が有効にされていないのは警告画面部の翻訳がまだ済んでないためらしい。  {{< link >}} [FNX-14553 ⁃ For #7865: Enable about:config in geckoRelease by interfect · Pull Request #13373 · mozilla-mobile/fenix](https://github.com/mozilla-mobile/fenix/pull/13373) {{< /link >}}

とは言え、`about:config` が有効化されたなら飛び付くかは怪しく、短い間しか使ってないが、コレクションとブックマークの使い分けがよく分からなかったり、アドレスバーをタッチしてもブックマーク一覧が表示されなかったり(前バージョンでは表示される) と移行の障害はそれなりにあると感じた。  

性能・速度の面では確かに前バージョンよりは優れていた。具体的に言えば、レンダリング開始までの時間が速かった。  
しかし、移行する理由としては弱いし、低スペスマホでは活用しにくい一部 JavaScript の JIT 等が切れないため熱くなりやすかったり、バッテリーの消耗が激しいものとなっていた。  

GeckoView エンジンでないバージョンはセキュリティアップデートもバグ修正も反映されなくなったため、使い続ける訳にもいかない。  
{{< link >}} [Firefox for Android 68.11.0, See All New Features, Updates and Fixes](https://www.mozilla.org/en-US/firefox/android/68.11.0/releasenotes/) {{< /link >}}

Firefox はいつ戻ってきてくれるか。  

## サイトデザインの変更点 {#css}
幅 840px未満の場合、右下にメニューを表示するためのボタンを追加。  
スマホでサイトを確認していて、次のページ、タグ・カテゴリーが下までスクロールしないと見られなかったのが面倒で実装。  
中身は幅 840px未満では表示されないサイドバーの一部を `#{id}:target` で移動させる感じ。  

それと走査線っぽいのを追加。  
HTML + CSS でそれっぽくできて良かった。  

